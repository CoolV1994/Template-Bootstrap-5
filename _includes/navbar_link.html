{% assign level = include.level | to_integer %}
{% for link in include.links %}
  {% assign active = '' %}
  {% comment %} Check if Link is Menu (Array) or Link (String) {% endcomment %}
  {% if link[1].first %}
    {% assign menuLinks = link[1] | where_exp: "sublink", "sublink == page.url" %}
    {% if menuLinks.size > 0 %}{% assign active = 'active' %}{% endif %}
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle {{ active }}" href="#{{ include.level }}-{{ forloop.index }}" id="dropdown_{{ include.level }}-{{ forloop.index }}" data-bs-toggle="dropdown" aria-expanded="false">{{ link[0] }}</a>
          <ul class="dropdown-menu {% unless level == '0' %}dropdown-submenu{% endunless %}" aria-labelledby="dropdown_{{ include.level }}-{{ forloop.index }}">
            {% assign subLinks = link[1] %}
            {% assign subLevel = level | plus: 1 %}
{% include navbar_link.html level=subLevel links=subLinks %}
          </ul>
        </li>
  {% else %}
    {% assign linkURL = link[1] %}
    {% unless link[1] contains 'http' %}{% assign linkURL = linkURL | prepend: site.baseurl %}{% endunless %}
    {% if page.url == link[1] %}{% assign active = 'active' %}{% endif %}
    {% if include.level == '0' %}
        <li class="nav-item">
          <a class="nav-link {{ active }}" aria-current="page" href="{{ linkURL }}">{{ link[0] }}</a>
        </li>
    {% else %}
            <li>
              <a class="dropdown-item {{ active }}" href="{{ linkURL }}">{{ link[0] }}</a>
            </li>
    {% endif %}
  {% endif %}
{% endfor %}
